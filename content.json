{"pages":[{"title":"","text":"关于我…","link":"/about.html"},{"title":"","text":"","link":"/links.html"}],"posts":[{"title":"JMeter如何使用Java编写测试用例-AbstractJavaSamplerClient","text":"概述在 JMeter 中， 支持我们可以编写 Java 代码来发送请求， 用来提高拓展性， 如下图所示 实践要成为 JMeter 可识别的脚本， 该脚本需要继承 AbstractJavaSamplerClient 类 123456789101112131415161718192021222324252627282930313233343536373839404142434445public class HttpBinPostCase extends AbstractJavaSamplerClient { HttpClient httpClient; String url; @Override public void setupTest(JavaSamplerContext context) { httpClient = HttpClients.createDefault(); url = context.getParameter(&quot;url&quot;); } @SneakyThrows @Override public SampleResult runTest(JavaSamplerContext context) { HttpPost httpPost= new HttpPost(url); SampleResult sampleResult=new SampleResult(); sampleResult.setSampleLabel(&quot;httpbin post case&quot;); sampleResult.sampleStart(); HttpResponse result = httpClient.execute(httpPost); String entity= EntityUtils.toString(result.getEntity()); if (result.getStatusLine().getStatusCode()==200){ sampleResult.setSuccessful(true); sampleResult.setResponseCodeOK(); }else { sampleResult.setSuccessful(false); sampleResult.setResponseCode(String.valueOf(result.getStatusLine().getStatusCode())); } sampleResult.setResponseData(entity, &quot;utf-8&quot;); // 在这里存储API 返回值 JMeterSampleResultMap.result.put(context.getJMeterVariables().getThreadName(), entity); return sampleResult; } @Override public void teardownTest(JavaSamplerContext context) { super.teardownTest(context); } @Override public Arguments getDefaultParameters() { Arguments arguments = new Arguments(); arguments.addArgument(&quot;url&quot;, &quot;https://httpbin.org/post&quot;); return arguments; }} 然后将该项目打包成一个 Jar 包， 再引入 JMeter 中即可","link":"/2022/03/22/JMeter%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8Java%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B-AbstractJavaSamplerClient/"},{"title":"JMeter如何管理测试数据","text":"CSV第一种最简单的也最常见的是通过 csv 来传入测试数据接下来我们测试下 CSV 取值 Mysql 数据库需要将 Mysql Driver Lib 下载保存的 lib 文件夹 那么如何遍历数据库中的每一个值呢？ 使用 foreach 遍历 先算出数据库有多少数据， 然后用 for 循环遍历 foreach：新建一个 FoeEach 的 controller Input variable： 指的是你之前设置的变量名 Output variable： 指的是你之后从这个变量集合中取出来的单个变量的名字","link":"/2022/03/21/JMeter%E5%A6%82%E4%BD%95%E7%AE%A1%E7%90%86%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE/"},{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2022/03/21/hello-world/"}],"tags":[{"name":"JMeter","slug":"JMeter","link":"/tags/JMeter/"}],"categories":[]}